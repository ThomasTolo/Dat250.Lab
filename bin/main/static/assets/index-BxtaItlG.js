(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();const Ln=!1;var At=Array.isArray,Cr=Array.prototype.indexOf,Xt=Array.from,$t=Object.defineProperty,Ge=Object.getOwnPropertyDescriptor,Fn=Object.getOwnPropertyDescriptors,Dr=Object.prototype,Ur=Array.prototype,en=Object.getPrototypeOf,En=Object.isExtensible;function Rr(e){return e()}function Et(e){for(var t=0;t<e.length;t++)e[t]()}function Mr(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const ae=2,tn=4,Tt=8,et=16,Pe=32,$e=64,nn=128,ve=256,St=512,Q=1024,_e=2048,Ae=4096,ge=8192,ze=16384,rn=32768,Nt=65536,Sn=1<<17,Lr=1<<18,tt=1<<19,qn=1<<20,zt=1<<21,ln=1<<22,Re=1<<23,Me=Symbol("$state"),Fr=Symbol("legacy props"),qr=Symbol(""),an=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Vn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Vr(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function jr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function $r(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function zr(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Br(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Hr(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Yr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Wr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Gr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Kr(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Ot=1,Ct=2,jn=4,Jr=8,Zr=16,Qr=1,Xr=2,ei=4,ti=8,ni=16,ri=1,ii=2,J=Symbol(),li="http://www.w3.org/1999/xhtml";function ai(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let si=!1;function $n(e){return e===this.v}function zn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function oi(e,t){return e!==t}function Bn(e){return!zn(e,this.v)}let nt=!1,ui=!1;function fi(){nt=!0}let $=null;function Je(e){$=e}function rt(e,t=!1,n){$={p:$,c:null,e:null,s:e,x:null,l:nt&&!t?{s:null,u:null,$:[]}:null}}function it(e){var t=$,n=t.e;if(n!==null){t.e=null;for(var r of n)ir(r)}return $=t.p,{}}function lt(){return!nt||$!==null&&$.l===null}let Te=[],xt=[];function Hn(){var e=Te;Te=[],Et(e)}function ci(){var e=xt;xt=[],Et(e)}function vi(){return Te.length>0||xt.length>0}function at(e){if(Te.length===0&&!ct){var t=Te;queueMicrotask(()=>{t===Te&&Hn()})}Te.push(e)}function di(){Te.length>0&&Hn(),xt.length>0&&ci()}const _i=new WeakMap;function Yn(e){var t=R;if(t===null)return U.f|=Re,e;if((t.f&rn)===0){if((t.f&nn)===0)throw!t.parent&&e instanceof Error&&Wn(e),e;t.b.error(e)}else Ze(e,t)}function Ze(e,t){for(;t!==null;){if((t.f&nn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Wn(e),e}function Wn(e){const t=_i.get(e);t&&($t(e,"message",{value:t.message}),$t(e,"stack",{value:t.stack}))}const Ft=new Set;let j=null,bt=null,Bt=new Set,Ve=[],Dt=null,Ht=!1,ct=!1;class xe{current=new Map;#l=new Map;#t=new Set;#v=0;#a=null;#f=!1;#i=[];#n=[];#e=[];#r=[];#s=[];#c=[];#u=[];skipped_effects=new Set;process(t){Ve=[],bt=null;for(const i of t)this.#d(i);if(this.#i.length===0&&this.#v===0){this.#_();var n=this.#e,r=this.#r;this.#e=[],this.#r=[],this.#s=[],bt=j,j=null,xn(n),xn(r),j===null?j=this:Ft.delete(this),this.#a?.resolve()}else this.#o(this.#e),this.#o(this.#r),this.#o(this.#s);for(const i of this.#i)qe(i);for(const i of this.#n)qe(i);this.#i=[],this.#n=[]}#d(t){t.f^=Q;for(var n=t.first;n!==null;){var r=n.f,i=(r&(Pe|$e))!==0,l=i&&(r&Q)!==0,a=l||(r&ge)!==0||this.skipped_effects.has(n);if(!a&&n.fn!==null){if(i)n.f^=Q;else if((r&tn)!==0)this.#r.push(n);else if((r&Q)===0)if((r&ln)!==0){var o=n.b?.is_pending()?this.#n:this.#i;o.push(n)}else gt(n)&&((n.f&et)!==0&&this.#s.push(n),qe(n));var s=n.first;if(s!==null){n=s;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}}#o(t){for(const n of t)((n.f&_e)!==0?this.#c:this.#u).push(n),te(n,Q);t.length=0}capture(t,n){this.#l.has(t)||this.#l.set(t,n),this.current.set(t,t.v)}activate(){j=this}deactivate(){j=null,bt=null;for(const t of Bt)if(Bt.delete(t),t(),j!==null)break}neuter(){this.#f=!0}flush(){Ve.length>0?Gn():this.#_(),j===this&&(this.#v===0&&Ft.delete(this),this.deactivate())}#_(){if(!this.#f)for(const t of this.#t)t();this.#t.clear()}increment(){this.#v+=1}decrement(){if(this.#v-=1,this.#v===0){for(const t of this.#c)te(t,_e),Qe(t);for(const t of this.#u)te(t,Ae),Qe(t);this.#e=[],this.#r=[],this.flush()}else this.deactivate()}add_callback(t){this.#t.add(t)}settled(){return(this.#a??=Mr()).promise}static ensure(){if(j===null){const t=j=new xe;Ft.add(j),ct||xe.enqueue(()=>{j===t&&t.flush()})}return j}static enqueue(t){at(t)}}function pi(e){var t=ct;ct=!0;try{for(var n;;){if(di(),Ve.length===0&&!vi()&&(j?.flush(),Ve.length===0))return Dt=null,n;Gn()}}finally{ct=t}}function Gn(){var e=Ke;Ht=!0;try{var t=0;for(Pn(!0);Ve.length>0;){var n=xe.ensure();if(t++>1e3){var r,i;hi()}n.process(Ve),Oe.clear()}}finally{Ht=!1,Pn(e),Dt=null}}function hi(){try{Br()}catch(e){Ze(e,Dt)}}let Ue=null;function xn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(ze|ge))===0&&gt(r)&&(Ue=[],qe(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?or(r):r.fn=null),Ue?.length>0)){Oe.clear();for(const i of Ue)qe(i);Ue=[]}}Ue=null}}function Qe(e){for(var t=Dt=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ht&&t===R&&(n&et)!==0)return;if((n&($e|Pe))!==0){if((n&Q)===0)return;t.f^=Q}}Ve.push(t)}function gi(e){let t=0,n=je(0),r;return()=>{Oi()&&(u(n),ot(()=>(t===0&&(r=L(()=>e(()=>vt(n)))),t+=1,()=>{at(()=>{t-=1,t===0&&(r?.(),r=void 0,vt(n))})})))}}var mi=Nt|tt|nn;function yi(e,t,n){new wi(e,t,n)}class wi{parent;#l=!1;#t;#v=null;#a;#f;#i;#n=null;#e=null;#r=null;#s=null;#c=0;#u=0;#d=!1;#o=null;#_=()=>{this.#o&&Xe(this.#o,this.#c)};#m=gi(()=>(this.#o=je(this.#c),()=>{this.#o=null}));constructor(t,n,r){this.#t=t,this.#a=n,this.#f=r,this.parent=R.b,this.#l=!!this.#a.pending,this.#i=Mt(()=>{R.b=this;{try{this.#n=ue(()=>r(this.#t))}catch(i){this.error(i)}this.#u>0?this.#h():this.#l=!1}},mi)}#y(){try{this.#n=ue(()=>this.#f(this.#t))}catch(t){this.error(t)}this.#l=!1}#w(){const t=this.#a.pending;t&&(this.#e=ue(()=>t(this.#t)),xe.enqueue(()=>{this.#n=this.#p(()=>(xe.ensure(),ue(()=>this.#f(this.#t)))),this.#u>0?this.#h():(Le(this.#e,()=>{this.#e=null}),this.#l=!1)}))}is_pending(){return this.#l||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#a.pending}#p(t){var n=R,r=U,i=$;ye(this.#i),ie(this.#i),Je(this.#i.ctx);try{return t()}catch(l){return Yn(l),null}finally{ye(n),ie(r),Je(i)}}#h(){const t=this.#a.pending;this.#n!==null&&(this.#s=document.createDocumentFragment(),bi(this.#n,this.#s)),this.#e===null&&(this.#e=ue(()=>t(this.#t)))}#g(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(t);return}this.#u+=t,this.#u===0&&(this.#l=!1,this.#e&&Le(this.#e,()=>{this.#e=null}),this.#s&&(this.#t.before(this.#s),this.#s=null))}update_pending_count(t){this.#g(t),this.#c+=t,Bt.add(this.#_)}get_effect_pending(){return this.#m(),u(this.#o)}error(t){var n=this.#a.onerror;let r=this.#a.failed;if(this.#d||!n&&!r)throw t;this.#n&&(de(this.#n),this.#n=null),this.#e&&(de(this.#e),this.#e=null),this.#r&&(de(this.#r),this.#r=null);var i=!1,l=!1;const a=()=>{if(i){ai();return}i=!0,l&&Kr(),xe.ensure(),this.#c=0,this.#r!==null&&Le(this.#r,()=>{this.#r=null}),this.#l=this.has_pending_snippet(),this.#n=this.#p(()=>(this.#d=!1,ue(()=>this.#f(this.#t)))),this.#u>0?this.#h():this.#l=!1};var o=U;try{ie(null),l=!0,n?.(t,a),l=!1}catch(s){Ze(s,this.#i&&this.#i.parent)}finally{ie(o)}r&&at(()=>{this.#r=this.#p(()=>{this.#d=!0;try{return ue(()=>{r(this.#t,()=>t,()=>a)})}catch(s){return Ze(s,this.#i.parent),null}finally{this.#d=!1}})})}}function bi(e,t){for(var n=e.nodes_start,r=e.nodes_end;n!==null;){var i=n===r?null:ht(n);t.append(n),n=i}}function Ei(e,t,n){const r=lt()?Ut:sn;if(t.length===0){n(e.map(r));return}var i=j,l=R,a=Si();Promise.all(t.map(o=>xi(o))).then(o=>{i?.activate(),a();try{n([...e.map(r),...o])}catch(s){(l.f&ze)===0&&Ze(s,l)}i?.deactivate(),Kn()}).catch(o=>{Ze(o,l)})}function Si(){var e=R,t=U,n=$,r=j;return function(){ye(e),ie(t),Je(n),r?.activate()}}function Kn(){ye(null),ie(null),Je(null)}function Ut(e){var t=ae|_e,n=U!==null&&(U.f&ae)!==0?U:null;return R===null||n!==null&&(n.f&ve)!==0?t|=ve:R.f|=tt,{ctx:$,deps:null,effects:null,equals:$n,f:t,fn:e,reactions:null,rv:0,v:J,wv:0,parent:n??R,ac:null}}function xi(e,t){let n=R;n===null&&Vr();var r=n.b,i=void 0,l=je(J),a=null,o=!U;return Mi(()=>{try{var s=e();a&&Promise.resolve(s).catch(()=>{})}catch(_){s=Promise.reject(_)}var c=()=>s;i=a?.then(c,c)??Promise.resolve(s),a=i;var f=j,p=r.is_pending();o&&(r.update_pending_count(1),p||f.increment());const h=(_,v=void 0)=>{a=null,p||f.activate(),v?v!==an&&(l.f|=Re,Xe(l,v)):((l.f&Re)!==0&&(l.f^=Re),Xe(l,_)),o&&(r.update_pending_count(-1),p||f.decrement()),Kn()};if(i.then(h,_=>h(null,_||"unknown")),f)return()=>{queueMicrotask(()=>f.neuter())}}),new Promise(s=>{function c(f){function p(){f===i?s(l):c(i)}f.then(p,p)}c(i)})}function sn(e){const t=Ut(e);return t.equals=Bn,t}function Jn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)de(t[n])}}function Ii(e){for(var t=e.parent;t!==null;){if((t.f&ae)===0)return t;t=t.parent}return null}function on(e){var t,n=R;ye(Ii(e));try{Jn(e),t=_r(e)}finally{ye(n)}return t}function Zn(e){var t=on(e);if(e.equals(t)||(e.v=t,e.wv=vr()),!Be){var n=(Ne||(e.f&ve)!==0)&&e.deps!==null?Ae:Q;te(e,n)}}const Oe=new Map;function je(e,t){var n={f:0,v:e,reactions:null,equals:$n,rv:0,wv:0};return n}function be(e,t){const n=je(e);return qi(n),n}function G(e,t=!1,n=!0){const r=je(e);return t||(r.equals=Bn),nt&&n&&$!==null&&$.l!==null&&($.l.s??=[]).push(r),r}function ki(e,t){return E(e,L(()=>u(e))),t}function E(e,t,n=!1){U!==null&&(!he||(U.f&Sn)!==0)&&lt()&&(U.f&(ae|et|ln|Sn))!==0&&!Ie?.includes(e)&&Gr();let r=n?We(t):t;return Xe(e,r)}function Xe(e,t){if(!e.equals(t)){var n=e.v;Be?Oe.set(e,t):Oe.set(e,n),e.v=t;var r=xe.ensure();r.capture(e,n),(e.f&ae)!==0&&((e.f&_e)!==0&&on(e),te(e,(e.f&ve)===0?Q:Ae)),e.wv=vr(),Qn(e,_e),lt()&&R!==null&&(R.f&Q)!==0&&(R.f&(Pe|$e))===0&&(oe===null?Vi([e]):oe.push(e))}return t}function vt(e){E(e,e.v+1)}function Qn(e,t){var n=e.reactions;if(n!==null)for(var r=lt(),i=n.length,l=0;l<i;l++){var a=n[l],o=a.f;if(!(!r&&a===R)){var s=(o&_e)===0;s&&te(a,t),(o&ae)!==0?Qn(a,Ae):s&&((o&et)!==0&&Ue!==null&&Ue.push(a),Qe(a))}}}function We(e){if(typeof e!="object"||e===null||Me in e)return e;const t=en(e);if(t!==Dr&&t!==Ur)return e;var n=new Map,r=At(e),i=be(0),l=Fe,a=o=>{if(Fe===l)return o();var s=U,c=Fe;ie(null),Tn(l);var f=o();return ie(s),Tn(c),f};return r&&n.set("length",be(e.length)),new Proxy(e,{defineProperty(o,s,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Yr();var f=n.get(s);return f===void 0?f=a(()=>{var p=be(c.value);return n.set(s,p),p}):E(f,c.value,!0),!0},deleteProperty(o,s){var c=n.get(s);if(c===void 0){if(s in o){const f=a(()=>be(J));n.set(s,f),vt(i)}}else E(c,J),vt(i);return!0},get(o,s,c){if(s===Me)return e;var f=n.get(s),p=s in o;if(f===void 0&&(!p||Ge(o,s)?.writable)&&(f=a(()=>{var _=We(p?o[s]:J),v=be(_);return v}),n.set(s,f)),f!==void 0){var h=u(f);return h===J?void 0:h}return Reflect.get(o,s,c)},getOwnPropertyDescriptor(o,s){var c=Reflect.getOwnPropertyDescriptor(o,s);if(c&&"value"in c){var f=n.get(s);f&&(c.value=u(f))}else if(c===void 0){var p=n.get(s),h=p?.v;if(p!==void 0&&h!==J)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return c},has(o,s){if(s===Me)return!0;var c=n.get(s),f=c!==void 0&&c.v!==J||Reflect.has(o,s);if(c!==void 0||R!==null&&(!f||Ge(o,s)?.writable)){c===void 0&&(c=a(()=>{var h=f?We(o[s]):J,_=be(h);return _}),n.set(s,c));var p=u(c);if(p===J)return!1}return f},set(o,s,c,f){var p=n.get(s),h=s in o;if(r&&s==="length")for(var _=c;_<p.v;_+=1){var v=n.get(_+"");v!==void 0?E(v,J):_ in o&&(v=a(()=>be(J)),n.set(_+"",v))}if(p===void 0)(!h||Ge(o,s)?.writable)&&(p=a(()=>be(void 0)),E(p,We(c)),n.set(s,p));else{h=p.v!==J;var w=a(()=>We(c));E(p,w)}var b=Reflect.getOwnPropertyDescriptor(o,s);if(b?.set&&b.set.call(f,c),!h){if(r&&typeof s=="string"){var P=n.get("length"),N=Number(s);Number.isInteger(N)&&N>=P.v&&E(P,N+1)}vt(i)}return!0},ownKeys(o){u(i);var s=Reflect.ownKeys(o).filter(p=>{var h=n.get(p);return h===void 0||h.v!==J});for(var[c,f]of n)f.v!==J&&!(c in o)&&s.push(c);return s},setPrototypeOf(){Wr()}})}var In,Xn,er,tr;function Pi(){if(In===void 0){In=window,Xn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;er=Ge(t,"firstChild").get,tr=Ge(t,"nextSibling").get,En(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),En(n)&&(n.__t=void 0)}}function st(e=""){return document.createTextNode(e)}function It(e){return er.call(e)}function ht(e){return tr.call(e)}function I(e,t){return It(e)}function Ce(e,t=!1){{var n=It(e);return n instanceof Comment&&n.data===""?ht(n):n}}function k(e,t=1,n=!1){let r=e;for(;t--;)r=ht(r);return r}function Ai(e){e.textContent=""}function un(){return!1}let kn=!1;function Ti(){kn||(kn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Rt(e){var t=U,n=R;ie(null),ye(null);try{return e()}finally{ie(t),ye(n)}}function nr(e,t,n,r=n){e.addEventListener(t,()=>Rt(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Ti()}function rr(e){R===null&&U===null&&zr(),U!==null&&(U.f&ve)!==0&&R===null&&$r(),Be&&jr()}function Ni(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function we(e,t,n,r=!0){var i=R;i!==null&&(i.f&ge)!==0&&(e|=ge);var l={ctx:$,deps:null,nodes_start:null,nodes_end:null,f:e|_e,first:null,fn:t,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{qe(l),l.f|=rn}catch(s){throw de(l),s}else t!==null&&Qe(l);if(r){var a=l;if(n&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&tt)===0&&(a=a.first),a!==null&&(a.parent=i,i!==null&&Ni(a,i),U!==null&&(U.f&ae)!==0&&(e&$e)===0)){var o=U;(o.effects??=[]).push(a)}}return l}function Oi(){return U!==null&&!he}function Ci(e){const t=we(Tt,null,!1);return te(t,Q),t.teardown=e,t}function Yt(e){rr();var t=R.f,n=!U&&(t&Pe)!==0&&(t&rn)===0;if(n){var r=$;(r.e??=[]).push(e)}else return ir(e)}function ir(e){return we(tn|qn,e,!1)}function Di(e){return rr(),we(Tt|qn,e,!0)}function Ui(e){xe.ensure();const t=we($e|tt,e,!0);return(n={})=>new Promise(r=>{n.outro?Le(t,()=>{de(t),r(void 0)}):(de(t),r(void 0))})}function Ri(e){return we(tn,e,!1)}function Wt(e,t){var n=$,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=ot(()=>{e(),!r.ran&&(r.ran=!0,L(t))})}function lr(){var e=$;ot(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&Q)!==0&&te(n,Ae),gt(n)&&qe(n),t.ran=!1}})}function Mi(e){return we(ln|tt,e,!0)}function ot(e,t=0){return we(Tt|t,e,!0)}function fe(e,t=[],n=[]){Ei(t,n,r=>{we(Tt,()=>e(...r.map(u)),!0)})}function Mt(e,t=0){var n=we(et|t,e,!0);return n}function ue(e,t=!0){return we(Pe|tt,e,!0,t)}function ar(e){var t=e.teardown;if(t!==null){const n=Be,r=U;An(!0),ie(null);try{t.call(null)}finally{An(n),ie(r)}}}function sr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&Rt(()=>{i.abort(an)});var r=n.next;(n.f&$e)!==0?n.parent=null:de(n,t),n=r}}function Li(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Pe)===0&&de(t),t=n}}function de(e,t=!0){var n=!1;(t||(e.f&Lr)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Fi(e.nodes_start,e.nodes_end),n=!0),sr(e,t&&!n),kt(e,0),te(e,ze);var r=e.transitions;if(r!==null)for(const l of r)l.stop();ar(e);var i=e.parent;i!==null&&i.first!==null&&or(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Fi(e,t){for(;e!==null;){var n=e===t?null:ht(e);e.remove(),e=n}}function or(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Le(e,t){var n=[];fn(e,n,!0),ur(n,()=>{de(e),t&&t()})}function ur(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function fn(e,t,n){if((e.f&ge)===0){if(e.f^=ge,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var i=r.next,l=(r.f&Nt)!==0||(r.f&Pe)!==0;fn(r,t,l?n:!1),r=i}}}function cn(e){fr(e,!0)}function fr(e,t){if((e.f&ge)!==0){e.f^=ge,(e.f&Q)===0&&(te(e,_e),Qe(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Nt)!==0||(n.f&Pe)!==0;fr(n,i?t:!1),n=r}if(e.transitions!==null)for(const l of e.transitions)(l.is_global||t)&&l.in()}}let Ke=!1;function Pn(e){Ke=e}let Be=!1;function An(e){Be=e}let U=null,he=!1;function ie(e){U=e}let R=null;function ye(e){R=e}let Ie=null;function qi(e){U!==null&&(Ie===null?Ie=[e]:Ie.push(e))}let ee=null,le=0,oe=null;function Vi(e){oe=e}let cr=1,_t=0,Fe=_t;function Tn(e){Fe=e}let Ne=!1;function vr(){return++cr}function gt(e){var t=e.f;if((t&_e)!==0)return!0;if((t&Ae)!==0){var n=e.deps,r=(t&ve)!==0;if(n!==null){var i,l,a=(t&St)!==0,o=r&&R!==null&&!Ne,s=n.length;if((a||o)&&(R===null||(R.f&ze)===0)){var c=e,f=c.parent;for(i=0;i<s;i++)l=n[i],(a||!l?.reactions?.includes(c))&&(l.reactions??=[]).push(c);a&&(c.f^=St),o&&f!==null&&(f.f&ve)===0&&(c.f^=ve)}for(i=0;i<s;i++)if(l=n[i],gt(l)&&Zn(l),l.wv>e.wv)return!0}(!r||R!==null&&!Ne)&&te(e,Q)}return!1}function dr(e,t,n=!0){var r=e.reactions;if(r!==null&&!Ie?.includes(e))for(var i=0;i<r.length;i++){var l=r[i];(l.f&ae)!==0?dr(l,t,!1):t===l&&(n?te(l,_e):(l.f&Q)!==0&&te(l,Ae),Qe(l))}}function _r(e){var t=ee,n=le,r=oe,i=U,l=Ne,a=Ie,o=$,s=he,c=Fe,f=e.f;ee=null,le=0,oe=null,Ne=(f&ve)!==0&&(he||!Ke||U===null),U=(f&(Pe|$e))===0?e:null,Ie=null,Je(e.ctx),he=!1,Fe=++_t,e.ac!==null&&(Rt(()=>{e.ac.abort(an)}),e.ac=null);try{e.f|=zt;var p=e.fn,h=p(),_=e.deps;if(ee!==null){var v;if(kt(e,le),_!==null&&le>0)for(_.length=le+ee.length,v=0;v<ee.length;v++)_[le+v]=ee[v];else e.deps=_=ee;if(!Ne||(f&ae)!==0&&e.reactions!==null)for(v=le;v<_.length;v++)(_[v].reactions??=[]).push(e)}else _!==null&&le<_.length&&(kt(e,le),_.length=le);if(lt()&&oe!==null&&!he&&_!==null&&(e.f&(ae|Ae|_e))===0)for(v=0;v<oe.length;v++)dr(oe[v],e);return i!==null&&i!==e&&(_t++,oe!==null&&(r===null?r=oe:r.push(...oe))),(e.f&Re)!==0&&(e.f^=Re),h}catch(w){return Yn(w)}finally{e.f^=zt,ee=t,le=n,oe=r,U=i,Ne=l,Ie=a,Je(o),he=s,Fe=c}}function ji(e,t){let n=t.reactions;if(n!==null){var r=Cr.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&ae)!==0&&(ee===null||!ee.includes(t))&&(te(t,Ae),(t.f&(ve|St))===0&&(t.f^=St),Jn(t),kt(t,0))}function kt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)ji(e,n[r])}function qe(e){var t=e.f;if((t&ze)===0){te(e,Q);var n=R,r=Ke;R=e,Ke=!0;try{(t&et)!==0?Li(e):sr(e),ar(e);var i=_r(e);e.teardown=typeof i=="function"?i:null,e.wv=cr;var l;Ln&&ui&&(e.f&_e)!==0&&e.deps}finally{Ke=r,R=n}}}async function $i(){await Promise.resolve(),pi()}function u(e){var t=e.f,n=(t&ae)!==0;if(U!==null&&!he){var r=R!==null&&(R.f&ze)!==0;if(!r&&!Ie?.includes(e)){var i=U.deps;if((U.f&zt)!==0)e.rv<_t&&(e.rv=_t,ee===null&&i!==null&&i[le]===e?le++:ee===null?ee=[e]:(!Ne||!ee.includes(e))&&ee.push(e));else{(U.deps??=[]).push(e);var l=e.reactions;l===null?e.reactions=[U]:l.includes(U)||l.push(U)}}}else if(n&&e.deps===null&&e.effects===null){var a=e,o=a.parent;o!==null&&(o.f&ve)===0&&(a.f^=ve)}if(Be){if(Oe.has(e))return Oe.get(e);if(n){a=e;var s=a.v;return((a.f&Q)===0&&a.reactions!==null||pr(a))&&(s=on(a)),Oe.set(a,s),s}}else n&&(a=e,gt(a)&&Zn(a));if((e.f&Re)!==0)throw e.v;return e.v}function pr(e){if(e.v===J)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Oe.has(t)||(t.f&ae)!==0&&pr(t))return!0;return!1}function L(e){var t=he;try{return he=!0,e()}finally{he=t}}const zi=-7169;function te(e,t){e.f=e.f&zi|t}function Ee(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Me in e)Gt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Me in n&&Gt(n)}}}function Gt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Gt(e[r],t)}catch{}const n=en(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Fn(n);for(let i in r){const l=r[i].get;if(l)try{l.call(e)}catch{}}}}}const Bi=["touchstart","touchmove"];function Hi(e){return Bi.includes(e)}const Yi=new Set,Nn=new Set;function Wi(e,t,n,r={}){function i(l){if(r.capture||ft.call(t,l),!l.cancelBubble)return Rt(()=>n?.call(this,l))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?at(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function ke(e,t,n,r,i){var l={capture:r,passive:i},a=Wi(e,t,n,l);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ci(()=>{t.removeEventListener(e,a,l)})}let On=null;function ft(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],l=i[0]||e.target;On=e;var a=0,o=On===e&&e.__root;if(o){var s=i.indexOf(o);if(s!==-1&&(t===document||t===window)){e.__root=t;return}var c=i.indexOf(t);if(c===-1)return;s<=c&&(a=s)}if(l=i[a]||e.target,l!==t){$t(e,"currentTarget",{configurable:!0,get(){return l||n}});var f=U,p=R;ie(null),ye(null);try{for(var h,_=[];l!==null;){var v=l.assignedSlot||l.parentNode||l.host||null;try{var w=l["__"+r];if(w!=null&&(!l.disabled||e.target===l))if(At(w)){var[b,...P]=w;b.apply(l,[e,...P])}else w.call(l,e)}catch(N){h?_.push(N):h=N}if(e.cancelBubble||v===t||v===null)break;l=v}if(h){for(let N of _)queueMicrotask(()=>{throw N});throw h}}finally{e.__root=t,delete e.currentTarget,ie(f),ye(p)}}}function Gi(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Kt(e,t){var n=R;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function B(e,t){var n=(t&ri)!==0,r=(t&ii)!==0,i,l=!e.startsWith("<!>");return()=>{i===void 0&&(i=Gi(l?e:"<!>"+e),n||(i=It(i)));var a=r||Xn?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=It(a),s=a.lastChild;Kt(o,s)}else Kt(a,a);return a}}function dt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=st();return e.append(t,n),Kt(t,n),e}function V(e,t){e!==null&&e.before(t)}function re(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Ki(e,t){return Ji(e,t)}const Ye=new Map;function Ji(e,{target:t,anchor:n,props:r={},events:i,context:l,intro:a=!0}){Pi();var o=new Set,s=p=>{for(var h=0;h<p.length;h++){var _=p[h];if(!o.has(_)){o.add(_);var v=Hi(_);t.addEventListener(_,ft,{passive:v});var w=Ye.get(_);w===void 0?(document.addEventListener(_,ft,{passive:v}),Ye.set(_,1)):Ye.set(_,w+1)}}};s(Xt(Yi)),Nn.add(s);var c=void 0,f=Ui(()=>{var p=n??t.appendChild(st());return yi(p,{pending:()=>{}},h=>{if(l){rt({});var _=$;_.c=l}i&&(r.$$events=i),c=e(h,r)||{},l&&it()}),()=>{for(var h of o){t.removeEventListener(h,ft);var _=Ye.get(h);--_===0?(document.removeEventListener(h,ft),Ye.delete(h)):Ye.set(h,_)}Nn.delete(s),p!==n&&p.parentNode?.removeChild(p)}});return Zi.set(c,f),c}let Zi=new WeakMap;function ce(e,t,n=!1){var r=e,i=null,l=null,a=J,o=n?Nt:0,s=!1;const c=(_,v=!0)=>{s=!0,h(v,_)};var f=null;function p(){f!==null&&(f.lastChild.remove(),r.before(f),f=null);var _=a?i:l,v=a?l:i;_&&cn(_),v&&Le(v,()=>{a?l=null:i=null})}const h=(_,v)=>{if(a!==(a=_)){var w=un(),b=r;if(w&&(f=document.createDocumentFragment(),f.append(b=st())),a?i??=v&&ue(()=>v(b)):l??=v&&ue(()=>v(b)),w){var P=j,N=a?i:l,S=a?l:i;N&&P.skipped_effects.delete(N),S&&P.skipped_effects.add(S),P.add_callback(p)}else p()}};Mt(()=>{s=!1,t(c),s||h(null,null)},o)}function Cn(e,t,n){var r=e,i=J,l,a,o=null,s=lt()?oi:zn;function c(){l&&Le(l),o!==null&&(o.lastChild.remove(),r.before(o),o=null),l=a}Mt(()=>{if(s(i,i=t())){var f=r,p=un();p&&(o=document.createDocumentFragment(),o.append(f=st())),a=ue(()=>n(f)),p?j.add_callback(c):c()}})}function vn(e,t){return t}function Qi(e,t,n){for(var r=e.items,i=[],l=t.length,a=0;a<l;a++)fn(t[a].e,i,!0);var o=l>0&&i.length===0&&n!==null;if(o){var s=n.parentNode;Ai(s),s.append(n),r.clear(),me(e,t[0].prev,t[l-1].next)}ur(i,()=>{for(var c=0;c<l;c++){var f=t[c];o||(r.delete(f.k),me(e,f.prev,f.next)),de(f.e,!o)}})}function pt(e,t,n,r,i,l=null){var a=e,o={flags:t,items:new Map,first:null},s=(t&jn)!==0;if(s){var c=e;a=c.appendChild(st())}var f=null,p=!1,h=new Map,_=sn(()=>{var P=n();return At(P)?P:P==null?[]:Xt(P)}),v,w;function b(){Xi(w,v,o,h,a,i,t,r,n),l!==null&&(v.length===0?f?cn(f):f=ue(()=>l(a)):f!==null&&Le(f,()=>{f=null}))}Mt(()=>{w??=R,v=u(_);var P=v.length;if(!(p&&P===0)){p=P===0;var N,S,C,M;if(un()){var A=new Set,D=j;for(S=0;S<P;S+=1){C=v[S],M=r(C,S);var H=o.items.get(M)??h.get(M);H?(t&(Ot|Ct))!==0&&hr(H,C,S,t):(N=gr(null,o,null,null,C,M,S,i,t,n,!0),h.set(M,N)),A.add(M)}for(const[Y,K]of o.items)A.has(Y)||D.skipped_effects.add(K.e);D.add_callback(b)}else b();u(_)}})}function Xi(e,t,n,r,i,l,a,o,s){var c=(a&Jr)!==0,f=(a&(Ot|Ct))!==0,p=t.length,h=n.items,_=n.first,v=_,w,b=null,P,N=[],S=[],C,M,A,D;if(c)for(D=0;D<p;D+=1)C=t[D],M=o(C,D),A=h.get(M),A!==void 0&&(A.a?.measure(),(P??=new Set).add(A));for(D=0;D<p;D+=1){if(C=t[D],M=o(C,D),A=h.get(M),A===void 0){var H=r.get(M);if(H!==void 0){r.delete(M),h.set(M,H);var Y=b?b.next:v;me(n,b,H),me(n,H,Y),qt(H,Y,i),b=H}else{var K=v?v.e.nodes_start:i;b=gr(K,n,b,b===null?n.first:b.next,C,M,D,l,a,s)}h.set(M,b),N=[],S=[],v=b.next;continue}if(f&&hr(A,C,D,a),(A.e.f&ge)!==0&&(cn(A.e),c&&(A.a?.unfix(),(P??=new Set).delete(A))),A!==v){if(w!==void 0&&w.has(A)){if(N.length<S.length){var g=S[0],y;b=g.prev;var F=N[0],W=N[N.length-1];for(y=0;y<N.length;y+=1)qt(N[y],g,i);for(y=0;y<S.length;y+=1)w.delete(S[y]);me(n,F.prev,W.next),me(n,b,F),me(n,W,g),v=g,b=W,D-=1,N=[],S=[]}else w.delete(A),qt(A,v,i),me(n,A.prev,A.next),me(n,A,b===null?n.first:b.next),me(n,b,A),b=A;continue}for(N=[],S=[];v!==null&&v.k!==M;)(v.e.f&ge)===0&&(w??=new Set).add(v),S.push(v),v=v.next;if(v===null)continue;A=v}N.push(A),b=A,v=A.next}if(v!==null||w!==void 0){for(var ne=w===void 0?[]:Xt(w);v!==null;)(v.e.f&ge)===0&&ne.push(v),v=v.next;var m=ne.length;if(m>0){var x=(a&jn)!==0&&p===0?i:null;if(c){for(D=0;D<m;D+=1)ne[D].a?.measure();for(D=0;D<m;D+=1)ne[D].a?.fix()}Qi(n,ne,x)}}c&&at(()=>{if(P!==void 0)for(A of P)A.a?.apply()}),e.first=n.first&&n.first.e,e.last=b&&b.e;for(var O of r.values())de(O.e);r.clear()}function hr(e,t,n,r){(r&Ot)!==0&&Xe(e.v,t),(r&Ct)!==0?Xe(e.i,n):e.i=n}function gr(e,t,n,r,i,l,a,o,s,c,f){var p=(s&Ot)!==0,h=(s&Zr)===0,_=p?h?G(i,!1,!1):je(i):i,v=(s&Ct)===0?a:je(a),w={i:v,v:_,k:l,a:null,e:null,prev:n,next:r};try{if(e===null){var b=document.createDocumentFragment();b.append(e=st())}return w.e=ue(()=>o(e,_,v,c),si),w.e.prev=n&&n.e,w.e.next=r&&r.e,n===null?f||(t.first=w):(n.next=w,n.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{}}function qt(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,i=t?t.e.nodes_start:n,l=e.e.nodes_start;l!==null&&l!==r;){var a=ht(l);i.before(l),l=a}}function me(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}const Dn=[...` 	
\r\f \v\uFEFF`];function el(e,t,n){var r=e==null?"":""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var l=i.length,a=0;(a=r.indexOf(i,a))>=0;){var o=a+l;(a===0||Dn.includes(r[a-1]))&&(o===r.length||Dn.includes(r[o]))?r=(a===0?"":r.substring(0,a))+r.substring(o+1):a=o}}return r===""?null:r}function tl(e,t){return e==null?null:String(e)}function Jt(e,t,n,r,i,l){var a=e.__className;if(a!==n||a===void 0){var o=el(n,r,l);o==null?e.removeAttribute("class"):e.className=o,e.__className=n}else if(l&&i!==l)for(var s in l){var c=!!l[s];(i==null||c!==!!i[s])&&e.classList.toggle(s,c)}return l}function Pt(e,t,n,r){var i=e.__style;if(i!==t){var l=tl(t);l==null?e.removeAttribute("style"):e.style.cssText=l,e.__style=t}return r}const nl=Symbol("is custom element"),rl=Symbol("is html");function Zt(e,t,n,r){var i=il(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[qr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&ll(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function il(e){return e.__attributes??={[nl]:e.nodeName.includes("-"),[rl]:e.namespaceURI===li}}var Un=new Map;function ll(e){var t=e.getAttribute("is")||e.nodeName,n=Un.get(t);if(n)return n;Un.set(t,n=[]);for(var r,i=e,l=Element.prototype;l!==i;){r=Fn(i);for(var a in r)r[a].set&&n.push(a);i=en(i)}return n}function Se(e,t,n=t){var r=new WeakSet;nr(e,"input",async i=>{var l=i?e.defaultValue:e.value;if(l=Vt(e)?jt(l):l,n(l),j!==null&&r.add(j),await $i(),l!==(l=t())){var a=e.selectionStart,o=e.selectionEnd;e.value=l??"",o!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(o,e.value.length))}}),L(t)==null&&e.value&&(n(Vt(e)?jt(e.value):e.value),j!==null&&r.add(j)),ot(()=>{var i=t();if(e===document.activeElement){var l=bt??j;if(r.has(l))return}Vt(e)&&i===jt(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function al(e,t,n=t){nr(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),L(t)==null&&n(e.checked),ot(()=>{var r=t();e.checked=!!r})}function Vt(e){var t=e.type;return t==="number"||t==="range"}function jt(e){return e===""?null:+e}function Rn(e,t){return e===t||e?.[Me]===t}function sl(e={},t,n,r){return Ri(()=>{var i,l;return ot(()=>{i=l,l=[],L(()=>{e!==n(...l)&&(t(e,...l),i&&Rn(n(...i),e)&&t(null,...i))})}),()=>{at(()=>{l&&Rn(n(...l),e)&&t(null,...l)})}}),e}function Lt(e=!1){const t=$,n=t.l.u;if(!n)return;let r=()=>Ee(t.s);if(e){let i=0,l={};const a=Ut(()=>{let o=!1;const s=t.s;for(const c in s)s[c]!==l[c]&&(l[c]=s[c],o=!0);return o&&i++,i});r=()=>u(a)}n.b.length&&Di(()=>{Mn(t,r),Et(n.b)}),Yt(()=>{const i=L(()=>n.m.map(Rr));return()=>{for(const l of i)typeof l=="function"&&l()}}),n.a.length&&Yt(()=>{Mn(t,r),Et(n.a)})}function Mn(e,t){if(e.l.s)for(const n of e.l.s)u(n);t()}let wt=!1;function ol(e){var t=wt;try{return wt=!1,[e(),wt]}finally{wt=t}}function z(e,t,n,r){var i=!nt||(n&Xr)!==0,l=(n&ti)!==0,a=(n&ni)!==0,o=r,s=!0,c=()=>(s&&(s=!1,o=a?L(r):r),o),f;if(l){var p=Me in e||Fr in e;f=Ge(e,t)?.set??(p&&t in e?S=>e[t]=S:void 0)}var h,_=!1;l?[h,_]=ol(()=>e[t]):h=e[t],h===void 0&&r!==void 0&&(h=c(),f&&(i&&Hr(),f(h)));var v;if(i?v=()=>{var S=e[t];return S===void 0?c():(s=!0,S)}:v=()=>{var S=e[t];return S!==void 0&&(o=void 0),S===void 0?o:S},i&&(n&ei)===0)return v;if(f){var w=e.$$legacy;return(function(S,C){return arguments.length>0?((!i||!C||w||_)&&f(C?v():S),S):v()})}var b=!1,P=((n&Qr)!==0?Ut:sn)(()=>(b=!1,v()));l&&u(P);var N=R;return(function(S,C){if(arguments.length>0){const M=C?u(P):i&&l?We(S):S;return E(P,M),b=!0,o!==void 0&&(o=M),S}return Be&&b||(N.f&ze)!==0?P.v:u(P)})}function Qt(e){$===null&&Vn(),nt&&$.l!==null?fl($).m.push(e):Yt(()=>{const t=L(e);if(typeof t=="function")return t})}function ul(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function dn(){const e=$;return e===null&&Vn(),(t,n,r)=>{const i=e.s.$$events?.[t];if(i){const l=At(i)?i.slice():[i],a=ul(t,n,r);for(const o of l)o.call(e.x,a);return!a.defaultPrevented}return!0}}function fl(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const cl="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(cl);fi();var vl=B('<div class="option-row svelte-1wayy72"><input type="text"/></div>'),dl=B('<div class="inline private-meta svelte-1wayy72"><label class="svelte-1wayy72">Max votes/user <input type="number" min="1"/></label> <label class="svelte-1wayy72">Invited usernames <input type="text" placeholder="user1, user2"/></label></div>'),_l=B('<div class="create-poll fade-in" aria-labelledby="create-poll-heading"><h2 id="create-poll-heading">Create a New Poll</h2> <div class="options-group"><label class="sr-only svelte-1wayy72" for="poll-question">Question</label> <input id="poll-question" type="text" placeholder="Poll question" autocomplete="off"/> <div class="options-stack svelte-1wayy72"><!> <button type="button" class="add-option svelte-1wayy72">+ Add Option</button></div></div> <div class="inline toggles svelte-1wayy72"><label class="toggle svelte-1wayy72"><input type="checkbox" class="svelte-1wayy72"/> <span> </span></label></div> <div class="inline datetimes svelte-1wayy72"><label class="svelte-1wayy72">Published at <input type="datetime-local"/></label> <label class="svelte-1wayy72">Deadline <input type="datetime-local"/></label></div> <!> <div class="actions svelte-1wayy72"><button type="button">Create Poll</button></div></div>');function pl(e,t){rt(t,!1);let n=G(""),r=G([{caption:""},{caption:""}]),i=G(!0),l=G(""),a=G(""),o=G(1),s=G("");function c(){E(r,[...u(r),{caption:""}])}const f=dn();let p=z(t,"voterUserId",8,"");async function h(){if(!p()){alert("You must be logged in to create a poll");return}const x=Number(p()),O=u(r).filter(d=>d.caption&&d.caption.trim()!=="");if(O.length<2){alert("Please provide at least two options");return}const T={creatorUserId:x,question:u(n),publicPoll:u(i),publishedAt:u(l)?new Date(u(l)).toISOString():null,validUntil:u(a)?new Date(u(a)).toISOString():null,maxVotesPerUser:u(i)?null:u(o),invitedUsernames:u(i)?[]:u(s).split(",").map(d=>d.trim()).filter(d=>d),options:O.map((d,q)=>({caption:d.caption,presentationOrder:q}))};try{(await fetch(`/api/polls?userId=${p()}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})).ok?(E(n,""),E(r,[{caption:""},{caption:""}]),E(i,!0),E(l,""),E(a,""),E(o,1),E(s,""),f("pollCreated")):alert("Failed to create poll")}catch{alert("Error creating poll")}}Lt();var _=_l(),v=k(I(_),2),w=k(I(v),2),b=k(w,2),P=I(b);pt(P,1,()=>u(r),vn,(x,O,T)=>{var d=vl(),q=I(d);Zt(q,"placeholder",`Option ${T+1} caption`),Se(q,()=>u(r)[T].caption,Z=>ki(r,u(r)[T].caption=Z)),V(x,d)});var N=k(P,2),S=k(v,2),C=I(S),M=I(C),A=k(M,2),D=I(A),H=k(S,2),Y=I(H),K=k(I(Y)),g=k(Y,2),y=k(I(g)),F=k(H,2);{var W=x=>{var O=dl(),T=I(O),d=k(I(T)),q=k(T,2),Z=k(I(q));Se(d,()=>u(o),pe=>E(o,pe)),Se(Z,()=>u(s),pe=>E(s,pe)),V(x,O)};ce(F,x=>{u(i)||x(W)})}var ne=k(F,2),m=I(ne);fe(()=>re(D,u(i)?"Public poll":"Private poll")),Se(w,()=>u(n),x=>E(n,x)),ke("click",N,c),al(M,()=>u(i),x=>E(i,x)),Se(K,()=>u(l),x=>E(l,x)),Se(y,()=>u(a),x=>E(a,x)),ke("click",m,h),V(e,_),it()}var hl=B('<button class="delete-poll svelte-1ltcb3y" type="button" aria-label="Delete poll">Delete</button>'),gl=B('<span class="breakdown svelte-1ltcb3y"> </span>'),ml=B("<span> </span>"),yl=B('<div class="progress-split svelte-1ltcb3y"><div class="up svelte-1ltcb3y"></div> <div class="down svelte-1ltcb3y"></div></div>'),wl=B('<div class="progress-fill neutral svelte-1ltcb3y" style="--w:0%"></div>'),bl=B('<div class="poll-option-row fade-in"><div class="option-text"> </div> <div class="vote-buttons"><button class="upvote" type="button">Upvote</button> <button class="downvote" type="button">Downvote</button></div> <div class="votes svelte-1ltcb3y"><span> </span> <span> </span> <!> <!></div> <div class="progress-shell"><!></div></div>'),El=B('<div class="poll-option-row">No options available.</div>'),Sl=B('<div class="poll fade-in"><div class="poll-header"><span class="poll-id"> </span> <div class="poll-question"> </div> <div class="poll-actions"><!></div></div> <div class="poll-options"><!></div> <div class="poll-deadline"> </div></div>');function xl(e,t){rt(t,!1);function n(m){const x=String(m),O=h.filter(d=>String(d.optionId??(d.option&&d.option.id))===x),T=new Map;for(const d of O){const q=d.voterUserId!=null?Number(d.voterUserId):"anon",Z=T.get(q);(!Z||d.publishedAt&&d.publishedAt>Z.publishedAt)&&T.set(q,d)}return[...T.values()]}function r(m){const x=n(m);let O=0,T=0;for(const d of x)d.upvote===!0||String(d.upvote)==="true"?O++:T++;return{up:O,down:T,total:O+T}}function i(m){const{up:x,total:O}=r(m);return O===0?0:Math.round(x/O*100)}function l(m){const{up:x,down:O,total:T}=r(m);return{up:x,down:O,total:T,upPercent:T?x/T*100:0,downPercent:T?O/T*100:0}}function a(m){return r(m).total}function o(m){const x=p()?Number(p()):null,O=String(m),T=h.filter(q=>String(q.optionId??(q.option&&q.option.id))===O);let d=null;for(const q of T)(x!=null?Number(q.voterUserId)===x:q.voterUserId==null)&&(!d||q.publishedAt&&q.publishedAt>d.publishedAt)&&(d=q);return d&&typeof d.upvote=="string"&&(d.upvote=d.upvote==="true"),d}const s=dn();let c=G("");Qt(()=>{_(),E(c,f().id),s("ready",{id:f().id,handleDelta:b()})});let f=z(t,"poll",24,()=>({id:"",question:"",options:[],creatorUserId:""})),p=z(t,"voterUserId",8,""),h=[];async function _(){try{const m=Number(f().id),x=Number(p()),O=await fetch(`/api/polls/${m}/votes?userId=${x}`);if(!O.ok)throw new Error("Failed to fetch votes");h=await O.json(),console.log("Fetched votes for poll",m,h)}catch(m){h=[],console.error("Error fetching votes",m)}}Qt(_);async function v(){if(f().creatorUserId!==p()){alert("Only the creator can delete this poll");return}if(confirm("Er du sikker på at du vil slette denne poll-en?"))try{(await fetch(`/api/polls/${f().id}?userId=${p()}`,{method:"DELETE"})).ok?s("pollDeleted"):alert("Feil ved sletting av poll")}catch{alert("Feil ved sletting av poll")}}async function w(m,x){if(!p()){alert("You must be logged in to vote");return}if(f().validUntil&&new Date>new Date(f().validUntil)){alert("Voting is closed for this poll");return}if(!f().options||!f().options[m]){alert("Alternativ mangler!");return}try{const O=Number(f().id),T=Number(f().options[m].id),d=Number(p()),q=h.some(pe=>Number(pe.voterUserId)===d);if(!(await fetch(`/api/polls/${O}/votes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({optionId:T,voterUserId:d,anonymous:!d,isUpvote:x})})).ok)throw new Error("Failed to vote");h=[...h,{optionId:T,voterUserId:d,anonymous:!d,upvote:x,publishedAt:new Date().toISOString()}],q||s("firstVote"),s("voted")}catch{await _(),alert("Feil ved stemming")}}let b=z(t,"handleDelta",8,m=>{if(!m||m.type!=="vote-delta"||String(m.pollId)!==String(f().id))return;let x=!1;h=h.map(O=>O.voterUserId===m.voterUserId&&O.optionId===m.optionId?(x=!0,{...O,upvote:m.upvote,publishedAt:new Date(m.ts).toISOString()}):O),x||(h=[...h,{optionId:m.optionId,voterUserId:m.voterUserId,anonymous:m.voterUserId==null,upvote:m.upvote,publishedAt:new Date(m.ts).toISOString()}])});Wt(()=>(Ee(f()),u(c)),()=>{f()&&f().id&&f().id!==u(c)&&(_(),E(c,f().id))}),lr(),Lt();var P=Sl(),N=I(P),S=I(N),C=I(S),M=k(S,2),A=I(M),D=k(M,2),H=I(D);{var Y=m=>{var x=hl();ke("click",x,v),V(m,x)};ce(H,m=>{Ee(f()),Ee(p()),L(()=>Number(f().creatorUserId)===Number(p()))&&m(Y)})}var K=k(N,2),g=I(K);{var y=m=>{var x=dt(),O=Ce(x);pt(O,3,()=>(Ee(f()),L(()=>f().options)),T=>T.id,(T,d,q)=>{var Z=dt(),pe=Ce(Z);Cn(pe,()=>(u(d),L(()=>u(d).id)),He=>{var mt=bl(),_n=I(mt),mr=I(_n),pn=k(_n,2),hn=I(pn),yr=k(hn,2),gn=k(pn,2),mn=I(gn),wr=I(mn),yn=k(mn,2),br=I(yn),wn=k(yn,2);{var Er=X=>{var se=gl(),De=I(se);fe((ut,yt)=>re(De,`${ut??""}↑ / ${yt??""}↓`),[()=>(u(d),L(()=>l(u(d).id).up)),()=>(u(d),L(()=>l(u(d).id).down))]),V(X,se)};ce(wn,X=>{u(d),L(()=>l(u(d).id).total>0)&&X(Er)})}var Sr=k(wn,2);{var xr=X=>{var se=ml(),De=I(se);fe(ut=>re(De,`You ${ut??""}`),[()=>(u(d),L(()=>o(u(d).id).upvote?"upvoted":"downvoted"))]),V(X,se)};ce(Sr,X=>{u(d),L(()=>o(u(d).id))&&X(xr)})}var Ir=k(gn,2),kr=I(Ir);{var Pr=X=>{var se=dt(),De=Ce(se);Cn(De,()=>(u(d),L(()=>"bar-"+u(d).id+"-"+l(u(d).id).total)),ut=>{var yt=yl(),bn=I(yt),Tr=k(bn,2);fe((Nr,Or)=>{Pt(bn,Nr),Pt(Tr,Or)},[()=>(u(d),L(()=>`--w:${l(u(d).id).upPercent}%`)),()=>(u(d),L(()=>`--w:${l(u(d).id).downPercent}%`))]),V(ut,yt)}),V(X,se)},Ar=X=>{var se=wl();V(X,se)};ce(kr,X=>{u(d),L(()=>l(u(d).id).total>0)?X(Pr):X(Ar,!1)})}fe((X,se,De)=>{re(mr,(u(d),L(()=>u(d).caption||u(d).text||"—"))),re(wr,`${X??""} ${se??""}`),re(br,`${De??""}%`)},[()=>(u(d),L(()=>a(u(d).id))),()=>(u(d),L(()=>a(u(d).id)===1?"voter":"voters")),()=>(u(d),L(()=>i(u(d).id)))]),ke("click",hn,()=>w(u(q),!0)),ke("click",yr,()=>w(u(q),!1)),V(He,mt)}),V(T,Z)}),V(m,x)},F=m=>{var x=El();V(m,x)};ce(g,m=>{Ee(f()),L(()=>f().options&&f().options.length>0)?m(y):m(F,!1)})}var W=k(K,2),ne=I(W);fe(m=>{re(C,`P#${Ee(f()),L(()=>f().id||"—")??""}`),re(A,(Ee(f()),L(()=>f().question||"Untitled poll"))),re(ne,`Deadline: ${m??""}`)},[()=>(Ee(f()),L(()=>f().validUntil?new Date(f().validUntil).toLocaleString():"N/A"))]),V(e,P),it()}var Il=B('<label class="sr-only svelte-3z0wmw" for="login-email">Email</label> <input id="login-email" type="email" placeholder="Email" autocomplete="email" class="svelte-3z0wmw"/>',1),kl=B('<div class="error svelte-3z0wmw" role="alert"> </div>'),Pl=B('<div class="login-box fade-in svelte-3z0wmw" aria-labelledby="login-heading"><h2 id="login-heading"> </h2> <div class="toggle-box svelte-3z0wmw" role="tablist"><button role="tab">Login</button> <button role="tab">Register</button></div> <div class="fields svelte-3z0wmw"><label class="sr-only svelte-3z0wmw" for="login-username">Username</label> <input id="login-username" type="text" placeholder="Username" autocomplete="username" class="svelte-3z0wmw"/> <label class="sr-only svelte-3z0wmw" for="login-password">Password</label> <input id="login-password" type="password" placeholder="Password" autocomplete="current-password" class="svelte-3z0wmw"/> <!></div> <button class="svelte-3z0wmw"> </button> <!></div>');function Al(e,t){rt(t,!1);let n=G(""),r=G(""),i=G(""),l=G(""),a=G(!0);const o=dn();async function s(){if(!u(n)||!u(r)){E(l,"Username and password required");return}try{const g=await fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:u(n),password:u(r)})});if(!g.ok){E(l,"Invalid username or password");return}const y=await g.json();E(l,""),localStorage.setItem("userId",y.id),y.id=Number(y.id),o("login",{user:y})}catch{E(l,"Login failed")}}async function c(){if(!u(n)||!u(r)||!u(i)){E(l,"All fields required");return}try{const g=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:u(n),password:u(r),email:u(i)})});if(!g.ok){const F=await g.text();E(l,F.includes("Username already exists")?"Username already exists":"Registration failed");return}const y=await g.json();E(l,""),localStorage.setItem("userId",y.id),y.id=Number(y.id),o("login",{user:y})}catch{E(l,"Registration failed")}}Lt();var f=Pl(),p=I(f),h=I(p),_=k(p,2),v=I(_);let w;var b=k(v,2);let P;var N=k(_,2),S=k(I(N),2),C=k(S,4),M=k(C,2);{var A=g=>{var y=Il(),F=k(Ce(y),2);Se(F,()=>u(i),W=>E(i,W)),V(g,y)};ce(M,g=>{u(a)||g(A)})}var D=k(N,2),H=I(D),Y=k(D,2);{var K=g=>{var y=kl(),F=I(y);fe(()=>re(F,u(l))),V(g,y)};ce(Y,g=>{u(l)&&g(K)})}fe((g,y)=>{re(h,u(a)?"Login":"Register"),Zt(v,"aria-selected",u(a)),w=Jt(v,1,"svelte-3z0wmw",null,w,g),Zt(b,"aria-selected",!u(a)),P=Jt(b,1,"svelte-3z0wmw",null,P,y),re(H,u(a)?"Login":"Register")},[()=>({active:u(a)}),()=>({active:!u(a)})]),ke("click",v,()=>{E(a,!0),E(l,"")}),ke("click",b,()=>{E(a,!1),E(l,"")}),Se(S,()=>u(n),g=>E(n,g)),Se(C,()=>u(r),g=>E(r,g)),ke("click",D,function(...g){(u(a)?s:c)?.apply(this,g)}),V(e,f),it()}var Tl=B('<div class="confetti svelte-2e3100"></div>'),Nl=B("<div></div>");function Ol(e,t){rt(t,!0);const n=z(t,"size",3,10),r=z(t,"x",19,()=>[-.5,.5]),i=z(t,"y",19,()=>[.25,1]),l=z(t,"duration",3,2e3),a=z(t,"infinite",3,!1),o=z(t,"delay",19,()=>[0,50]),s=z(t,"colorRange",19,()=>[0,360]),c=z(t,"colorArray",19,()=>[]),f=z(t,"amount",3,50),p=z(t,"iterationCount",3,1),h=z(t,"fallDistance",3,"100px"),_=z(t,"rounded",3,!1),v=z(t,"cone",3,!1),w=z(t,"noGravity",3,!1),b=z(t,"xSpread",3,.15),P=z(t,"destroyOnComplete",3,!0),N=z(t,"disableForReducedMotion",3,!1);let S=be(!1);Qt(()=>{!P()||a()||typeof p()=="string"||setTimeout(()=>E(S,!0),(l()+o()[1])*p())});function C(Y,K){return Math.random()*(K-Y)+Y}function M(){return c().length?c()[Math.round(Math.random()*(c().length-1))]:`hsl(${Math.round(C(s()[0],s()[1]))}, 75%, 50%)`}var A=dt(),D=Ce(A);{var H=Y=>{var K=Nl();let g;pt(K,21,()=>({length:f()}),vn,(y,F)=>{var W=Tl();fe((ne,m,x,O,T,d,q,Z,pe,He,mt)=>Pt(W,`
        --color: ${ne??""};
        --skew: ${m??""}deg,${x??""}deg;
        --rotation-xyz: ${O??""}, ${T??""}, ${d??""};
        --rotation-deg: ${q??""}deg;
        --translate-y-multiplier: ${Z??""};
        --translate-x-multiplier: ${pe??""};
        --scale: ${He??""};
        --transition-delay: ${mt??""}ms;
        --transition-duration: ${a()?`calc(${l()}ms * var(--scale))`:`${l()}ms`};`),[M,()=>C(-45,45),()=>C(-45,45),()=>C(-10,10),()=>C(-10,10),()=>C(-10,10),()=>C(0,360),()=>C(i()[0],i()[1]),()=>C(r()[0],r()[1]),()=>.1*C(2,10),()=>C(o()[0],o()[1])]),V(y,W)}),fe(y=>{g=Jt(K,1,"confetti-holder svelte-2e3100",null,g,y),Pt(K,`
    --fall-distance: ${h()??""};
    --size: ${n()??""}px;
    --x-spread: ${1-b()};
    --transition-iteration-count: ${(a()?"infinite":p())??""};`)},[()=>({rounded:_(),cone:v(),"no-gravity":w(),"reduced-motion":N()})]),V(Y,K)};ce(D,Y=>{u(S)||Y(H)})}V(e,A),it()}var Cl=B('<button class="logout-btn">Log out</button>'),Dl=B("<li> </li>"),Ul=B("<p>Loading polls...</p>"),Rl=B('<h2 style="text-align:center; color:#fff; margin-bottom:1em;"> </h2> <!> <!>',1),Ml=B('<main class="main-layout"><div class="top-bar"><h1 class="app-title">PollApp</h1> <!></div> <div class="ws-messages"><h2>WebSocket Messages</h2> <ul></ul></div> <div class="components-wrapper"><!></div></main> <!>',1);function Ll(e,t){rt(t,!1);let n=G([]),r=G(!0),i=G(null),l=G("");async function a(g=!1){g&&E(r,!0);try{let y="/api/polls";u(i)&&u(i).username&&(y+=`?username=${encodeURIComponent(u(i).username)}`);const F=await fetch(y);if(!F.ok)throw new Error("Failed to fetch polls");E(n,await F.json())}catch(y){console.error("Failed to fetch polls",y)}g&&E(r,!1)}function o(g){E(i,g.detail.user),a(!0)}let s,c=G([]),f=new Map;function p(){s=new WebSocket("ws://localhost:8080/rawws"),s.onopen=()=>{s.send("Hello from Svelte frontend!")},s.onmessage=g=>{let y=g.data;E(c,[...u(c),y]);try{const F=JSON.parse(y);if(F.type==="vote-delta"){const W=f.get(F.pollId);W&&W.handleDelta?W.handleDelta(F):a();return}else if(F.type==="poll-created"){a(!0),v();return}}catch{}y==="pollsUpdated"?a(!0):y==="votesUpdated"&&a()},s.onerror=g=>{console.error("WebSocket error:",g)}}p();function h(g,y){return g&&f.set(y,g),{destroy(){f.delete(y)}}}let _=G();function v(g={}){u(_)&&u(_).fire&&u(_).fire({particles:120,...g})}Wt(()=>u(i),()=>{u(i)&&u(i).id?E(l,u(i).id):E(l,"")}),Wt(()=>u(i),()=>{u(i)&&u(i).id&&a(!0)}),lr(),Lt();var w=Ml(),b=Ce(w),P=I(b),N=k(I(P),2);{var S=g=>{var y=Cl();ke("click",y,()=>{E(i,null)}),V(g,y)};ce(N,g=>{u(i)&&g(S)})}var C=k(P,2),M=k(I(C),2);pt(M,5,()=>u(c),vn,(g,y)=>{var F=Dl(),W=I(F);fe(()=>re(W,u(y))),V(g,F)});var A=k(C,2),D=I(A);{var H=g=>{Al(g,{$$events:{login:o}})},Y=g=>{var y=Rl(),F=Ce(y),W=I(F),ne=k(F,2);pl(ne,{get voterUserId(){return u(l)},$$events:{pollCreated:()=>{a(!0),v({particles:180,spread:70})}}});var m=k(ne,2);{var x=T=>{var d=Ul();V(T,d)},O=T=>{var d=dt(),q=Ce(d);pt(q,1,()=>u(n),Z=>Z.id,(Z,pe)=>{xl(Z,{get poll(){return u(pe)},get voterUserId(){return u(l)},$$events:{ready:He=>h(He.currentTarget,He.detail.id),firstVote:()=>v({particles:90,spread:55}),voted:()=>a(),pollDeleted:()=>a(!0)}})}),V(T,d)};ce(m,T=>{u(r)?T(x):T(O,!1)})}fe(()=>re(W,`Hello ${u(i),L(()=>u(i).username)??""}!`)),V(g,y)};ce(D,g=>{u(i)?g(Y,!1):g(H)})}var K=k(b,2);sl(Ol(K,{$$legacy:!0}),g=>E(_,g),()=>u(_)),V(e,w),it()}Ki(Ll,{target:document.getElementById("app")});
